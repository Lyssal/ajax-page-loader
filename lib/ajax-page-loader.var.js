var AjaxPageLoader=function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="e6Wu")}({"/NCM":function(e,t,n){"use strict";(function(e){var a=n("HDy8");class r{constructor(e,t=!1){void 0!==e&&(this.setSelector(e),t&&this.start())}setSelector(t){this.elements=[],t.constructor===String?Object.values(e.document.querySelectorAll(t)).forEach(e=>{this.elements.push(new a.a(e))}):t instanceof e.Element?this.elements.push(new a.a(t)):t instanceof e.NodeList&&Object.values(t).forEach(e=>{this.elements.push(new a.a(e))})}start(){Object.values(this.elements).forEach(e=>{e.start()})}stop(){Object.values(this.elements).forEach(e=>{e.stop()})}}r.cssClass="lyssal-blinking-layer",t.a=r}).call(this,n("yLpj"))},"5MpH":function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return i});var a=n("wLEK");function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'a[data-ajax="true"], input[type="submit"][data-ajax="true"], button[type="submit"][data-ajax="true"]';!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.elements=[],this.setSelector(e),this.setDefaultTarget("body"),this.setLoadingType("blinking"),this.defaultMethod="GET",this.beforeFormSubmittingEvent=null,this.afterFormSubmittingEvent=null,this.beforeAjaxLoadingEvent=null,this.afterAjaxLoadingEvent=null,this.beforeContentSettingEvent=null,this.afterContentSettingEvent=null}var n,i,o;return n=t,(i=[{key:"setSelector",value:function(t){var n=this;this.selector=t,Object.values(e.document.querySelectorAll(t)).forEach(function(e){"true"!==e.dataset.pageLoaderInit&&n.elements.push(new a.a(e,n))})}},{key:"setDefaultTarget",value:function(t){t.constructor===String?this.defaultTarget=e.document.querySelector(t):this.defaultTarget=t}},{key:"setLoadingType",value:function(e){this.loadingType=e}},{key:"setBeforeFormSubmittingEvent",value:function(e){this.beforeFormSubmittingEvent=e}},{key:"setAfterFormSubmittingEvent",value:function(e){this.afterFormSubmittingEvent=e}},{key:"setBeforeAjaxLoadingEvent",value:function(e){this.beforeAjaxLoadingEvent=e}},{key:"setAfterAjaxLoadingEvent",value:function(e){this.afterAjaxLoadingEvent=e}},{key:"setBeforeContentSettingEvent",value:function(e){this.beforeContentSettingEvent=e}},{key:"setAfterContentSettingEvent",value:function(e){this.afterContentSettingEvent=e}}])&&r(n.prototype,i),o&&r(n,o),t}()}).call(this,n("yLpj"))},BFTO:function(e,t,n){},HDy8:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return r});var a=n("/NCM");class r{constructor(t){this.element=t,this.layer=e.document.createElement("div"),this.layer.classList.add(a.a.cssClass)}start(){this.intLayerStyles(),this.element.insertAdjacentHTML("beforeend",this.layer.outerHTML)}stop(){this.layer.remove()}intLayerStyles(){this.initLayerStyleTop(),this.initLayerStyleLeft(),this.layer.style.height=`${this.element.offsetHeight}px`,this.layer.style.width=`${this.element.offsetWidth}px`}initLayerStyleTop(){const e=this.element.offsetTop;this.layer.style.top=`${e}px`}initLayerStyleLeft(){const e=this.element.offsetLeft;this.layer.style.left=`${e}px`}}}).call(this,n("yLpj"))},e6Wu:function(e,t,n){"use strict";n.r(t);n("BFTO");var a=n("5MpH");t.default=a.a},wLEK:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return i});var a=n("/NCM");function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e,this.pageLoader=n,this.ajaxLoader=null,this.initClickEvent(),this.element.dataset.pageLoaderInit="true"}var n,i,o;return n=t,o=[{key:"getElementAttribute",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e.hasAttribute(t)?e.getAttribute(t):n}},{key:"serializeFormGet",value:function(e){if(!e||"form"!==e.nodeName.toLowerCase())return"";for(var t=[],n=e.elements.length-1;n>=0;n-=1)if(""!==e.elements[n].name)switch(e.elements[n].nodeName.toLowerCase()){case"input":switch(e.elements[n].type.toLowerCase()){case"checkbox":case"radio":e.elements[n].checked&&t.push("".concat(e.elements[n].name,"=").concat(encodeURIComponent(e.elements[n].value)));break;case"file":break;case"button":case"color":case"date":case"datetime-local":case"email":case"hidden":case"month":case"number":case"password":case"range":case"reset":case"search":case"submit":case"tel":case"text":case"time":case"url":case"week":t.push("".concat(e.elements[n].name,"=").concat(encodeURIComponent(e.elements[n].value)))}break;case"textarea":t.push("".concat(e.elements[n].name,"=").concat(encodeURIComponent(e.elements[n].value)));break;case"select":switch(e.elements[n].type.toLowerCase()){case"select-one":t.push("".concat(e.elements[n].name,"=").concat(encodeURIComponent(e.elements[n].value)));break;case"select-multiple":for(var a=e.elements[n].options.length-1;a>=0;a-=1)e.elements[n].options[a].selected&&t.push("".concat(e.elements[n].name,"=").concat(encodeURIComponent(e.elements[n].options[a].value)))}break;case"button":switch(e.elements[n].type.toLowerCase()){case"reset":case"submit":case"button":t.push("".concat(e.elements[n].name,"=").concat(encodeURIComponent(e.elements[n].value)))}}return t.join("&")}}],(i=[{key:"initClickEvent",value:function(){var e=this,t=void 0!==this.element.context?this.element.context.onclick:null;null!==t&&(this.element.removeEventListener("click",t,!0),this.element.removeAttribute("onclick")),this.element.addEventListener("click",function(n){if(null!==t&&!t())return void n.preventDefault();e.click(),n.preventDefault()})}},{key:"click",value:function(){var n=this,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=this.getUrl();if(null!=r){var i=this.getTargetElement(),o={mode:"cors",redirect:"follow",headers:{"X-Requested-With":"Fetch"}},s=!1;if(!this.isLink()){var l,u=this.getForm();if(null!==u){if(s=!0,l=t.getElementAttribute(u,"method","post"),this.processEvent("data-before-form-submitting",this.pageLoader.beforeFormSubmittingEvent),"get"!==l){var c=new e.window.FormData(u);o.body=c,o.contentType=!1,o.processData=!1}var f=this.getAttribute("name");null!==f&&("get"===l?o.data+="&".concat(encodeURI(f),"=").concat(encodeURI(this.element.value)):o.body.append(f,this.element.value))}else l=this.getAttribute("data-method",this.pageLoader.defaultMethod).toLowerCase();o.method=l}null!==i&&""!==i&&this.displayLoading(i);var h=this.getAttribute("data-redirect-url");return this.processEvent("data-before-ajax-loading",this.pageLoader.beforeAjaxLoadingEvent),e.fetch(r,o).then(function(e){if(!e.ok)throw Error(e);return e.text()}).then(function(r){if(null===h?n.updateAjaxContent(r):e.fetch(h).then(function(e){if(!e.ok)throw Error(e);return e.text()}).then(function(e){n.updateAjaxContent(e),n.finalizeAjaxProcess(s)}).catch(function(e){return console.error(e)}),a){var i=n.getAttribute("data-refresh-target");if(null!==i){var o=e.document.querySelectorAll(i);Object.values(o).forEach(function(e){new t(e,n.pageLoader).click(!1)})}}null===h&&n.finalizeAjaxProcess(s)}).catch(function(e){return console.error(e)}),!1}return console.error("The element URL has not be found for the AJAX page loader.",this.element),!0}},{key:"updateAjaxContent",value:function(e){var t=this.getTargetElement();this.processEvent("data-before-content-setting",this.pageLoader.beforeContentSettingEvent),null!==t&&""!==t&&(t.innerHTML=e),this.pageLoader.setSelector(this.pageLoader.selector),this.processEvent("data-after-content-setting",this.pageLoader.afterContentSettingEvent)}},{key:"processEvent",value:function(e,t){if(this.eventsAreActivate()){var n=this.getAttribute(e,t);null!==n&&("function"!=typeof n?"function"===this.eval("typeof ".concat(n))&&this.eval("".concat(n,"(element)")):n(this))}}},{key:"finalizeAjaxProcess",value:function(e){this.hideLoading(),e&&this.processEvent("data-after-form-submitting",this.pageLoader.afterFormSubmittingEvent),this.processEvent("data-after-ajax-loading",this.pageLoader.afterAjaxLoadingEvent)}},{key:"eventsAreActivate",value:function(){return"false"!==this.getAttribute("data-ajax-events")}},{key:"getTargetElement",value:function(){var t=this.getAttribute("data-target");return null!==t?e.document.querySelector(t):this.pageLoader.defaultTarget}},{key:"getUrl",value:function(){var n=this.getAttribute("data-url");if(null!==n)return n;if(this.element.hasAttribute("href"))return this.getAttribute("href");var a=this.getForm();null!==a&&(n=a.hasAttribute("action")?a.getAttribute("action"):e.window.location.href,"get"===t.getElementAttribute(a,"method","post").toLowerCase()&&(n+="?".concat(t.serializeFormGet(a))));return n}},{key:"isLink",value:function(){return null!==this.element.getAttribute("href")}},{key:"getAttribute",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.getElementAttribute(this.element,e,n)}},{key:"getForm",value:function(){return this.element.closest("form")}},{key:"displayLoading",value:function(e){if(null!==this.pageLoader.loadingType)switch(this.pageLoader.loadingType){case"blinking":this.ajaxLoader=new a.a(e),this.ajaxLoader.start()}return null}},{key:"hideLoading",value:function(){if(null!==this.pageLoader.loadingType&&null!==this.ajaxLoader)switch(this.pageLoader.loadingType){case"blinking":this.ajaxLoader.stop()}}}])&&r(n.prototype,i),o&&r(n,o),t}()}).call(this,n("yLpj"))},yLpj:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}}).default;